{% extends "events/base.html" %}
{% load static %}

 {% block Content %}

<!DOCTYPE html>
<html>
<head>
    <title>Participants List</title>
</head>
<body>

<div class="bg-gradient-to-r from-primary to-teal-600 text-white py-24 px-24"> 

    <h1>Participants</h1>
        {% if participants %}

            <table border="1" class="border border-black">
                <thead class="border border-black">
                    <tr class="border border-black">
                        <th>Name</th>
                        <th>Email</th>
                        <th>Events Attending</th>
                    </tr>
                </thead>
                <tbody>
                    {% for participant in participants %}
                    <tr class="border border-black">
                        <td>{{ participant.name }}</td>
                        <td>{{ participant.email }}</td>
                        <td>
                            {% for event in participant.events.all %}
                                {{ event.title }}{% if not forloop.last %}, {% endif %}
                            {% empty %}
                                No events
                            {% endfor %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>No participants found.</p>
        {% endif %}

</div>   
    

</body>
</html>

{% endblock Content %}